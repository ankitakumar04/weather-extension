!function(){var t=function(t,n,e){var a=document.createElement(t);for(var s in n)a.setAttribute(s,n[s]);return a.innerHTML=e||null,a},n=function(t,n,e,a){var s=new XMLHttpRequest;s.open(n,t,!0),s.onload=function(){this.status>=200&&this.status<400?e(this):a(this)},s.onerror=function(){a(this)},s.send()},e=function(n){this.attrs=n,this.render=function(){var n=t("div",{"class":"current"}),e=t("img",{"class":"current-img",src:this.attrs.img,alt:"icon"}),a=t("div",{"class":"weather"});return a.appendChild(t("span",{},this.attrs.temp+"&deg")),a.appendChild(t("span",{},this.attrs.desc)),n.appendChild(e),n.appendChild(a),n}},a=function(n){this.attrs=n,this.render=function(){var n=t("div",{"class":"period"});return n.appendChild(t("span",{"class":"time"},this.attrs.time)),n.appendChild(t("img",{src:this.attrs.img,alt:"icon"})),n.appendChild(t("span",{"class":"temp"},this.attrs.temp+"&deg")),n.appendChild(t("span",{"class":"precip"},this.attrs.precip+"mm")),n}},s=function(n){this.attrs=n,this.render=function(){for(var n=t("div",{"class":"today"}),e=new a,s=this.attrs.today.length,i=0;s>i;i++)e.attrs=this.attrs.today[i],n.appendChild(e.render());return n}},i=function(n){this.attrs=n,this.render=function(){var n=t("div",{"class":"weather"},'<span class="temp">'+this.attrs.temp+'&deg</span><span class="description">'+this.attrs.desc+"</span>"),e=t("div",{"class":"date"},'<p class="weekday">'+this.attrs.weekday+'</p><p class="month">'+this.attrs.month+"</p>"),a=t("div",{"class":"day"});return a.appendChild(t("img",{src:this.attrs.img,alt:"icon"})),a.appendChild(n),a.appendChild(e),a}},r=function(n){this.attrs=n,this.render=function(){for(var n=t("div",{"class":"forecast"}),e=new i,a=this.attrs.days.length,s=0;a>s;s++)e.attrs=this.attrs.days[s],n.appendChild(e.render());return n}},d=[{time:"10:00",img:"sun.png",temp:"15",precip:0},{time:"13:00",img:"sun.png",temp:"16",precip:0},{time:"16:00",img:"sun.png",temp:"19",precip:0},{time:"19:00",img:"sun.png",temp:"14",precip:0},{time:"21:00",img:"sun.png",temp:"11",precip:0}],p=[{img:"sun.png",temp:"14",desc:"Sunny",weekday:"Monday",month:"January 19"},{img:"sun.png",temp:"18",desc:"Sunny",weekday:"Monday",month:"January 19"},{img:"sun.png",temp:"12",desc:"Sunny",weekday:"Monday",month:"January 19"},{img:"sun.png",temp:"9",desc:"Sunny",weekday:"Monday",month:"January 19"},{img:"sun.png",temp:"13",desc:"Sunny",weekday:"Monday",month:"January 19"}],o=function(n,a,i){var d=new e(n),p=new s({today:a}),o=new r({days:i});document.body.appendChild(d.render()),document.body.appendChild(t("hr")),document.body.appendChild(p.render()),document.body.appendChild(t("hr")),document.body.appendChild(o.render())},c=function(t){var n=JSON.parse(t.response);console.log(n),currentData={img:"sun.png",temp:Math.round(n.main.temp-273),desc:n.weather[0].main},o(currentData,d,p)};n("http://api.openweathermap.org/data/2.5/weather?q=waterloo,ca","GET",c,function(){console.log("error")})}();